language: node_js
sudo: required
services:
- docker
matrix:
  include:
    - node_js: '8'
      env: NODE_VERSION=8
    - node_js: '10'
      env: NODE_VERSION=10
    - node_js: '12'
      env: NODE_VERSION=12
before_install:
- npm install -g npm@'>=2.13.5'
- docker pull rabbitmq:3-management
- docker run -d -p 5671:5671 -p 15672:15672 -p 5672:5672 rabbitmq:3-management
script: npm run build-test
